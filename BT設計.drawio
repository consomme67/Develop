<mxfile host="" modified="2021-02-16T05:32:33.070Z" agent="5.0 (Windows NT 6.2; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/84.0.4147.105 Safari/537.36" etag="iMX1ZwXYv3ctfe25lAB6" version="13.7.9" type="embed" pages="2"><diagram id="se92e26DNZG-GAYroY87" name="Page-1"><mxGraphModel dx="406" dy="576" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="3JkFNtR-FsQKq-bazuBV-48" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=3;fillColor=#FFFFFF;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.25;entryY=0;entryDx=0;entryDy=0;strokeColor=#0000FF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-9" target="3JkFNtR-FsQKq-bazuBV-49" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="500" y="420" as="sourcePoint"/><mxPoint x="500" y="480" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-30" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=3;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;fillColor=#cdeb8b;strokeColor=#33FF33;" parent="1" source="3JkFNtR-FsQKq-bazuBV-31" target="3JkFNtR-FsQKq-bazuBV-19" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="120" y="520" as="sourcePoint"/><mxPoint x="180" y="300" as="targetPoint"/><Array as="points"><mxPoint x="120" y="280"/></Array></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3JkFNtR-FsQKq-bazuBV-21" target="3JkFNtR-FsQKq-bazuBV-1" edge="1"><mxGeometry relative="1" as="geometry"><mxPoint x="360" y="70" as="targetPoint"/><Array as="points"><mxPoint x="350" y="420"/><mxPoint x="350" y="80"/></Array></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3JkFNtR-FsQKq-bazuBV-1" target="3JkFNtR-FsQKq-bazuBV-5" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-1" value="カメラ撮影(5分間)" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="190" y="65" width="120" height="30" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="3JkFNtR-FsQKq-bazuBV-5" target="3JkFNtR-FsQKq-bazuBV-1" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="150" y="155"/><mxPoint x="150" y="80"/></Array></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="3JkFNtR-FsQKq-bazuBV-5" target="3JkFNtR-FsQKq-bazuBV-9" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-5" value="センサーからの&lt;br&gt;情報チェック" style="rhombus;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="165" y="125" width="170" height="60" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-8" value="無し" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1"><mxGeometry x="150" y="125" width="40" height="20" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3JkFNtR-FsQKq-bazuBV-9" target="3JkFNtR-FsQKq-bazuBV-14" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-9" value="(1&amp;amp;2):カット&lt;br&gt;(3~x):切り出し" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#0000FF;fillColor=#CCE5FF;" parent="1" vertex="1"><mxGeometry x="190" y="235" width="120" height="40" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-10" value="&lt;u&gt;カメラ番号&lt;/u&gt;&lt;br&gt;1:視点カメラ&lt;br&gt;2:終点カメラ&lt;br&gt;3~x:中間フレーム&lt;br&gt;&lt;br&gt;・1&amp;amp;2の処理はセンサー時間を見て，1&amp;gt;時間&amp;gt;2になるようカットする&lt;br&gt;・3番以降の撮影物の処理はセンサー時間のフレームを切り出す&lt;br&gt;・最終的にそれぞれmov(1&amp;amp;2)とframe(3~x)フォルダにまとめて動画生成部分へ送信&lt;br&gt;&lt;font color=&quot;#808080&quot;&gt;連番になっているほうが処理しやすい？&lt;/font&gt;" style="text;html=1;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=1;strokeColor=#000000;" parent="1" vertex="1"><mxGeometry y="12.5" width="140" height="257.5" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="3JkFNtR-FsQKq-bazuBV-14" target="3JkFNtR-FsQKq-bazuBV-21" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-14" value="全体制御へ送信" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1"><mxGeometry x="190" y="315" width="120" height="40" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-16" value="あり" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1"><mxGeometry x="250" y="185" width="40" height="20" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-17" value="" style="shape=flexArrow;endArrow=classic;html=1;fillColor=#FFFFFF;" parent="1" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="320" y="335" as="sourcePoint"/><mxPoint x="370" y="310" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-18" value="全体制御ラズパイ" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="380" y="244" width="120" height="80" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-19" value="センサー制御ラズパイ" style="ellipse;whiteSpace=wrap;html=1;strokeColor=#33FF33;fillColor=#E6FFCC;" parent="1" vertex="1"><mxGeometry x="390" y="74" width="150" height="80" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-21" value="&quot;mov&quot; or &quot;frame&quot;の削除&lt;br&gt;センサーの時間ファイル削除" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1"><mxGeometry x="180" y="390" width="140" height="60" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-23" value="centraltime.txt&lt;br&gt;(中心点の時間UNIX)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1"><mxGeometry x="349" y="155" width="130" height="30" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-24" value="" style="shape=flexArrow;endArrow=classic;html=1;" parent="1" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="480" y="174" as="sourcePoint"/><mxPoint x="470" y="234" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-25" value="カメラ制御ラズパイ" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="190" y="10" width="120" height="50" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-20" value="" style="shape=flexArrow;endArrow=classic;html=1;fillColor=#FFFFFF;" parent="1" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="380" y="134" as="sourcePoint"/><mxPoint x="340" y="154" as="targetPoint"/><Array as="points"><mxPoint x="380" y="134"/></Array></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-29" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;・各々送信されてくるframe03~xxをframeフォルダにまとめる(movはもとからまとまってる構想)&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span&gt;・mov,frame,時間ファイルを動画生成PCへ送信&lt;/span&gt;&lt;/div&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;position2=0;size=18;position=0.06;base=20;rotation=0;" parent="1" vertex="1"><mxGeometry x="520" y="155" width="160" height="127.5" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-33" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#FFFFFF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-31" target="3JkFNtR-FsQKq-bazuBV-32" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-31" value="中心地点の時間取得" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="60" y="530" width="120" height="30" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#FFFFFF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-32" target="3JkFNtR-FsQKq-bazuBV-34" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-32" value="ファイルへ追記" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1"><mxGeometry x="60" y="585" width="120" height="25" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fillColor=#FFFFFF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-34" target="3JkFNtR-FsQKq-bazuBV-31" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="28" y="669"/><mxPoint x="28" y="545"/></Array></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-40" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#FFFFFF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-34" target="3JkFNtR-FsQKq-bazuBV-39" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-34" value="カメラから5分&lt;br&gt;撮影終了の合図" style="rhombus;whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1"><mxGeometry x="47.5" y="640" width="145" height="57.5" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-38" value="なし" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1"><mxGeometry x="30" y="640" width="40" height="20" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-43" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fillColor=#FFFFFF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-39" target="3JkFNtR-FsQKq-bazuBV-42" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-39" value="中心地点の時間を記録したファイルを各カメララズパイへ送信" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1"><mxGeometry x="55" y="730" width="130" height="60" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-41" value="あり" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1"><mxGeometry x="120" y="690" width="40" height="20" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fillColor=#FFFFFF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-42" target="3JkFNtR-FsQKq-bazuBV-31" edge="1"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="210" y="850"/><mxPoint x="210" y="545"/></Array></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-42" value="カメラからの合図&lt;br&gt;時間を記録したファイルの削除" style="whiteSpace=wrap;html=1;rounded=0;" parent="1" vertex="1"><mxGeometry x="60" y="820" width="120" height="60" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-45" value="エポックをミリ秒まで取得は可能だけれど，ffmpegの方がミリ秒まで反応しない&lt;br&gt;&lt;br&gt;カットの段階で30枚(1秒間)切り出して近似値でフレームを決める？" style="text;html=1;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=1;strokeColor=#000000;" parent="1" vertex="1"><mxGeometry x="230" y="510" width="160" height="120" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-46" value="" style="endArrow=none;dashed=1;html=1;dashPattern=1 3;strokeWidth=2;fillColor=#FFFFFF;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="3JkFNtR-FsQKq-bazuBV-31" target="3JkFNtR-FsQKq-bazuBV-45" edge="1"><mxGeometry width="50" height="50" relative="1" as="geometry"><mxPoint x="130" y="470" as="sourcePoint"/><mxPoint x="180" y="420" as="targetPoint"/></mxGeometry></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1;fillColor=#FFFFFF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-49" target="3JkFNtR-FsQKq-bazuBV-51" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-49" value="[切り出し]&lt;br&gt;取得したエポック秒から1秒後まで30枚切り出す" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="440" y="440" width="140" height="50" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" source="3JkFNtR-FsQKq-bazuBV-51" target="3JkFNtR-FsQKq-bazuBV-53" edge="1"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-51" value="切り出した30枚にそれぞれフレーム番号33x(ミリ秒)を" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="432.5" y="520" width="155" height="50" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-53" value="centraltime.txtから読み込んだ時間から近似値フレームを決める" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1"><mxGeometry x="432.5" y="600" width="155" height="50" as="geometry"/></mxCell><mxCell id="3JkFNtR-FsQKq-bazuBV-55" value="センサー用と全体制御ラズパイは一緒でもいい気が" style="text;html=1;strokeColor=#36393d;fillColor=#ffcccc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1"><mxGeometry x="550" y="285" width="170" height="70" as="geometry"/></mxCell></root></mxGraphModel></diagram><diagram id="l1XlLjOmEzk5UBuUJsR6" name="Page-2"><mxGraphModel dx="406" dy="576" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0"><root><mxCell id="YgT8oi_6Z0eBxTdtJqno-0"/><mxCell id="YgT8oi_6Z0eBxTdtJqno-1" parent="YgT8oi_6Z0eBxTdtJqno-0"/><mxCell id="YgT8oi_6Z0eBxTdtJqno-2" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="YgT8oi_6Z0eBxTdtJqno-1"><mxGeometry x="130" y="130" width="120" height="60" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>